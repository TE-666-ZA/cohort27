# Исключительные ситуации

* Exceptions - ошибки, которые возникают при работе приложения.
* В Java все исключительные ситуации оборачиваются в объект определенного класса.
* Все исключения делятся на определенные группы, и все эти группы составляют иерархию исключению.
* Простыми словами - каждая ошибка, в зависимости от природы ее возникновения, принадлежит определенному классу.
* Все эти классы являются потомками-предками друг другу.

* Пример (обратились к элементу, который не существует в массиве):

```
Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: Index 10 out of bounds for length 5
	at Main01.workWithArray(Main01.java:10)
	at Main01.main(Main01.java:15)
```

* `Exception in thread "main"` - ошибка в потоке `main`, ошибка в вашей/главной программе (основном потоке).
* `java.lang.ArrayIndexOutOfBoundsException` - класс исключения.
* `Index 10 out of bounds for length 5` - `details message`, подробное сообщение
* `at Main01.main(Main01.java:15)` - самое последнее место, где ошибка себя "засветила". 
* В классе `Main01`, в методе `main`, в файле `Main01.java` в 15-й строке.
* `at Main01.workWithArray(Main01.java:10)` - в данном случае - это первое место, где себя проявила ошибка.
* В классе `Main01`, в методе `workWithArray`, в файле `Main01.java` в 10-й строке.
* В общем случае, с фраз `at` начинается так называемый `stack trace` - стек вызовов, или цепочка вызовов
* В `stack trace` в самом начале (наверху) находится точка, где ошибка впервые возникла (строка с ошибкой)
* В конце - где она в итоге проявилась.
* Можно понять, какая цепочка вызовов привела к ошибке. (читать снизу вверх).

## Работа с исключениями

* Когда исключение возникает - программа останавливается
* Что, если мы не хотим, чтобы приложение падало? Можем дать пользователю второй шанс.
* Для этого существует концепция перехвата исключений
* Перехват исключения подразумевает выделение блока кода, где оно может возникнуть и описание поведение при ее возникновении.

```
try {
    // описываем код, в котором может возникнуть исключение
} catch (КлассИсключения1 объектнаяПеременнаяИсключения) {
    // поведение, которое должно быть при возникновении исключения
} catch (КлассИсключения1 объектнаяПеременнаяИсключения) {
    // поведение, которое должно быть при возникновении исключения
}
```

* Как только вы написали блок `catch`, программа перестает падать из-за возникшего исключения 
* Если в блоке `try` несколько строк, и в одной из них возникает исключение - то программа сразу переходит в `catch`, игнорируя остальные блоки внутри этого `try`.

### Виды исключений

* `ArrayIndexOutOfBoundsException` - выход за границы массива
* `ArithmeticException` - ошибочная арифметическая операция
* `InputMismatchException` - неожиданный формат ввода

### Словарик

* `bounds` - границы
* `exception` - исключение
* `except` - исключить, кроме

## Что нужно про исключения? (после изучения темы Java Input Output - InputStream, outputStream)

* Отличать проверяемые и непроверяемые
* Знать ключевое слово `finally`
* Понимать ключевое слово `throws`
* Понимать, как работать с исключениями в файлах
* Выбрасывать собственные исключения